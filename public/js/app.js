(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+ISy":function(t,e,s){(e=s("JPst")(!1)).push([t.i,"\n.fade-enter-active[data-v-a73107e6] {\n\ttransition: all .5s;\n}\n.fade-leave-active[data-v-a73107e6] {\n\ttransition: all .5s;\n}\n.fade-enter[data-v-a73107e6], .fade-leave-to[data-v-a73107e6] {\n\topacity: 0;\n}\n.wn-button[data-v-a73107e6] {\n\tcursor: pointer;\n}\n",""]),t.exports=e},0:function(t,e,s){s("bUC5"),t.exports=s("pyCd")},"04Vj":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("4USb"),a=function(){function t(t,e,s){if(void 0===s&&(s=!0),this.listeners={},this.currentGroup="nogroup",this.openFuncs=[],this.closeFuncs=[],this.requests=[],this.response={},this.pingPongTimeout=30,void 0===e){var n=t.split(":");t=n[0]+":"+n[1],e=parseInt(n[2])}this.socket=this.connect(t,e,s)}return t.prototype.connect=function(t,e,s){var n=this;return void 0===s&&(s=!0),this.socket=new WebSocket(t+":"+e),this.socket.addEventListener("open",(function(){if(n.openFuncs.length>0)for(var t=0;t<n.openFuncs.length;t++)n.openFuncs[t].call(n);if(n.requests.length>0){for(t=0;t<n.requests.length;t++)n.send(n.requests[t]);n.requests=[]}n.setPongPongTimeout()}),!1),this.socket.addEventListener("close",(function(){if(n.closeFuncs.length>0)for(var a=0;a<n.closeFuncs.length;a++)n.closeFuncs[a].call(n);s&&setTimeout((function(){return n.connect(t,e,s)}),1e3)}),!1),this.socket.addEventListener("message",(function(t){var e=JSON.parse(t.data);if("request"===e.type&&void 0!==e.request_id&&void 0!==n.response[e.request_id])return n.response[e.request_id].call(n,e),delete n.response[e.request_id],!1;for(var s in n.listeners){var a=n.listeners[s][e.action];if(void 0!==a&&a.length>0)for(var o=0;o<n.listeners[s][e.action].length;o++)n.listeners[s][e.action][o].call(n,e)}})),this.socket},t.prototype.setPongPongTimeout=function(){var t=this;clearTimeout(this.pingPong),this.pingPong=setTimeout((function(){t.send({type:"ping"})}),1e3*this.pingPongTimeout)},t.prototype.send=function(t){this.isOpen()?this.socket.send(JSON.stringify(t)):this.requests.push(t),this.setPongPongTimeout()},t.prototype.listener=function(t,e,s){void 0===s&&(s=""),this.on(t,e,s)},t.prototype.on=function(t,e,s){void 0===s&&(s=""),""===s&&(s=this.currentGroup),void 0===this.listeners[s]&&(this.listeners[s]={}),void 0===this.listeners[s][t]&&(this.listeners[s][t]=[]),this.listeners[s][t].push(e)},t.prototype.off=function(t,e){for(var s in this.listeners){var n=this.listeners[s][t];if(void 0!==n&&n.length>0)for(var a=0;a<n.length;a++)if(n[a]===e){this.listeners[s][t].splice(a,1);break}}},t.prototype.group=function(t){this.currentGroup=t},t.prototype.endGroup=function(){this.currentGroup="nogroup"},t.prototype.offGroup=function(t){void 0!==this.listeners[t]&&(this.listeners[t]={})},t.prototype.request=function(t,e){var s=this;return new Promise((function(a,o){var r=n.v5("request",n.v4()),i={action:t,type:"request",request_id:r,params:e};s.isOpen()?s.send(i):s.requests.push(i),s.response[r]=function(t){a(t)}}))},t.prototype.isOpen=function(){return this.socket.readyState===this.socket.OPEN},t.prototype.onOpen=function(t){this.isOpen()&&t.call(this),this.openFuncs.push(t)},t.prototype.onClose=function(t){this.isOpen()||t.call(this),this.closeFuncs.push(t)},t.prototype.offOpen=function(t){for(var e=0;e<this.openFuncs.length;e++)if(this.openFuncs[e]===t){this.openFuncs.splice(e,1);break}},t.prototype.offClose=function(t){for(var e=0;e<this.closeFuncs.length;e++)if(this.closeFuncs[e]===t){this.closeFuncs.splice(e,1);break}},t}();e.default=a},"0mDy":function(t,e,s){(e=s("JPst")(!1)).push([t.i,"\n.button[data-v-5a8b4e1c] {\n\tmargin-top: 35px;\n}\n.flip-list-move[data-v-5a8b4e1c] {\n\ttransition: transform 0.5s;\n}\n.no-move[data-v-5a8b4e1c] {\n\ttransition: transform 0s;\n}\n.ghost[data-v-5a8b4e1c] {\n\topacity: 0.5;\n\tbackground: #c8ebfb;\n}\n.handle[data-v-5a8b4e1c] {\n\tcursor: move;\n}\n.button-icon[data-v-5a8b4e1c] {\n\tcursor: pointer;\n}\n.control[data-v-5a8b4e1c] {\n\tposition: absolute;\n\ttop: 10px;\n\tright: 10px;\n}\n.task[data-v-5a8b4e1c] {\n\tpadding: 10px;\n}\n.task-complite[data-v-5a8b4e1c] {\n\tbackground-color: #eef6ff;\n}\n.task-active[data-v-5a8b4e1c] {\n\tbackground-color: #bbdbff;\n}\n.story-point[data-v-5a8b4e1c] {\n\tpadding: 1px 6px;\n\tbackground-color: #007bff;\n\tcolor: #fff;\n\tborder-radius: 3px;\n}\n.story-point div[data-v-5a8b4e1c] {\n\tdisplay: inline-block;\n}\n.task .control-owner[data-v-5a8b4e1c] {\n\topacity: 0;\n\ttransition: opacity .5s;\n}\n.task:hover .control-owner[data-v-5a8b4e1c] {\n\topacity: 1;\n}\n.fade-enter-active[data-v-5a8b4e1c] {\n\ttransition: all .5s;\n}\n.fade-enter[data-v-5a8b4e1c], .fade-leave-to[data-v-5a8b4e1c] {\n\topacity: 0;\n}\n.dropdown-menu[data-v-5a8b4e1c] {\n\tmin-width: auto;\n}\n",""]),t.exports=e},"33uv":function(t,e,s){var n=s("LboF"),a=s("fqNJ");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);t.exports=a.locals||{}},"5P52":function(t,e,s){(e=s("JPst")(!1)).push([t.i,"\ntextarea.text-box[data-v-43f3dd93] {\n\tposition: relative;\n\tflex: 1 1 auto;\n\twidth: 1%;\n\tmin-width: 0;\n\toverflow: hidden;\n\toverflow-wrap: break-word;\n\tmin-height: 20px;\n\tline-height: 20px;\n\tfont-size: 14px;\n\tborder: none;\n\toutline: 0;\n\tresize: none;\n}\n",""]),t.exports=e},"5a3p":function(t,e,s){"use strict";var n=s("8H+0");s.n(n).a},"6NXp":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={Default:[{point:0,view:"0",color:"#cccaff"},{point:.25,view:"1/4",color:"#8CCB5E"},{point:.5,view:"1/2",color:"#e87f6d"},{point:1,view:"1",color:"#6992c8"},{point:2,view:"2",color:"#f7abaa"},{point:3,view:"3",color:"#b0c4d1"},{point:5,view:"5",color:"#1db6a1"},{point:8,view:"8",color:"#7575b3"},{point:13,view:"13",color:"#f5e8b6"},{point:0,view:"?",color:"#f9a12f"},{point:0,view:":coffee:",color:"#76ccea"},{point:0,view:":dragon:",color:"#f8d37b"}],Alternative:[{point:0,view:"0",color:"#cccaff"},{point:.5,view:"1/2",color:"#8CCB5E"},{point:1,view:"1",color:"#e87f6d"},{point:2,view:"2",color:"#6992c8"},{point:3,view:"3",color:"#f7abaa"},{point:5,view:"5",color:"#b0c4d1"},{point:8,view:"8",color:"#1db6a1"},{point:13,view:"13",color:"#7575b3"},{point:20,view:"20",color:"#f5e8b6"},{point:40,view:"40",color:"#f9a12f"},{point:100,view:"100",color:"#76ccea"},{point:0,view:":dragon:",color:"#f8d37b"}],"Fibonacci Sequence":[{point:0,view:"0",color:"#cccaff"},{point:1,view:"1",color:"#8CCB5E"},{point:2,view:"2",color:"#e87f6d"},{point:3,view:"3",color:"#6992c8"},{point:5,view:"5",color:"#f7abaa"},{point:8,view:"8",color:"#b0c4d1"},{point:13,view:"13",color:"#1db6a1"},{point:21,view:"21",color:"#7575b3"},{point:34,view:"34",color:"#f5e8b6"},{point:55,view:"55",color:"#f9a12f"},{point:89,view:"89",color:"#76ccea"},{point:144,view:"144",color:"#f8d37b"}],"Numerical Sequence":[{point:0,view:"0",color:"#cccaff"},{point:1,view:"1",color:"#8CCB5E"},{point:2,view:"2",color:"#e87f6d"},{point:3,view:"3",color:"#6992c8"},{point:4,view:"4",color:"#f7abaa"},{point:5,view:"5",color:"#b0c4d1"},{point:6,view:"6",color:"#1db6a1"},{point:7,view:"7",color:"#7575b3"},{point:8,view:"8",color:"#f5e8b6"},{point:9,view:"9",color:"#f9a12f"},{point:10,view:"10",color:"#76ccea"},{point:11,view:"11",color:"#f8d37b"}],"Yes/No":[{point:0,view:"Yes",color:"#8CCB5E"},{point:0,view:"No",color:"#e87f6d"}]}},"6rDo":function(t,e,s){"use strict";var n=s("GcHl");s.n(n).a},"8Gmd":function(t,e,s){"use strict";var n=s("t+Td");s.n(n).a},"8H+0":function(t,e,s){var n=s("LboF"),a=s("+ISy");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);t.exports=a.locals||{}},"9/sL":function(t,e,s){(e=s("JPst")(!1)).push([t.i,"\n.fade-enter-active[data-v-0adbb604] {\n\ttransition: all .5s;\n}\n.fade-enter[data-v-0adbb604], .fade-leave-to[data-v-0adbb604] {\n\topacity: 0;\n}\n.poker-card > div[data-v-0adbb604] {\n\tcursor: pointer;\n\t/* border-radius: 5px; */\n}\n.poker-card-front[data-v-0adbb604] {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n\ttext-align: center;\n\tline-height: 100%;\n\tletter-spacing: 0px;\n\tcolor: #eee;\n\twhite-space: nowrap;\n\t-webkit-text-stroke: 1px rgba(0,0,0,1);\n\tborder-radius: 0.5em;\n\n\tbackground: linear-gradient(to left top, rgba(0, 0, 0, 0) 48.9%, rgba(0, 0, 0, .08) 51%, rgba(0, 0, 0, .08) 78%, rgba(0, 0, 0, 0) 80%), linear-gradient(to left top, rgba(0, 0, 0, .08) 28%, rgba(0, 0, 0, 0) 30%);\n\tbackground-size: .5em 1.5em;\n\n\t-webkit-touch-callout: none; /* iOS Safari */   /* Chrome/Safari/Opera */    /* Konqueror */\n\t-moz-user-select: none;      /* Firefox */       /* Internet Explorer/Edge */\n\tuser-select: none;\n\n\tbox-shadow: 0px 0px 5px rgba(0,0,0,0.7);\n\toutline: 1px solid rgba(0,0,0,0.2);\n\toutline-offset: -5px;\n}\n@media (max-width: 576px) {\n.poker-card-front[data-v-0adbb604] {\n\t\tfont-size: 2rem;\n}\n}\n@media (max-width: 992px) {\n.poker-card-front[data-v-0adbb604] {\n\t\tfont-size: 2rem;\n}\n}\n.poker-card-front div.view[data-v-0adbb604] {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\tz-index: 10;\n\tfont-size: 3.3rem;\n\ttransform: translate(-50%, -50%);\n}\n\n/* entire container, keeps perspective */\n.flip-container[data-v-0adbb604] {\n\tperspective: 1000px;\n}\n\n/* flip the pane when hovered */\n.flip-container.hover .flipper[data-v-0adbb604] {\n\ttransform: rotateY(180deg);\n}\n.flip-container[data-v-0adbb604], .front[data-v-0adbb604], .back[data-v-0adbb604] {\n\twidth: 100%;\n}\n\n/* flip speed goes here */\n.flipper[data-v-0adbb604] {\n\ttransition: ease-in-out 0.6s;\n\ttransform-style: preserve-3d;\n\n\tposition: relative;\n\n\twidth: 100%;\n\t/* 3:4 Aspect Ratio */\n\t/* padding-top: 150%; */\n}\n\n/* hide back of pane during swap */\n.front[data-v-0adbb604], .back[data-v-0adbb604] {\n\tbackface-visibility: hidden;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tbottom: 0;\n\tright: 0;\n}\n\n/* front pane, placed above back */\n.front[data-v-0adbb604] {\n\tz-index: 2;\n\t/* for firefox 31 */\n\ttransform: rotateY(0deg);\n}\n\n/* back, initially hidden pane */\n.back[data-v-0adbb604] {\n\ttransform: rotateY(180deg);\n\ttransition: all 0.5s;\n}\n.editable .poker-card-front[data-v-0adbb604] {\n\tfont-size:  0.7rem;\n\tfont-weight: 100;\n\tline-height: 10px;\n\tpadding: 5px;\n\t-webkit-text-stroke: 0;\n}\n.editable input[data-v-0adbb604] {\n\twidth: 50px;\n}\n.new-card[data-v-0adbb604] {\n\tfont-size:  2rem;\n}\n.shake[data-v-0adbb604] {\n\tanimation: tilt-n-move-shaking2-data-v-0adbb604 .5s;\n\tanimation-iteration-count: infinite;\n}\n@keyframes shake-data-v-0adbb604 {\n0% { transform:   rotate(0deg);\n}\n10% { transform:  rotate(2deg);\n}\n20% { transform:  rotate(4deg);\n}\n30% { transform:  rotate(2deg);\n}\n40% { transform:  rotate(0deg);\n}\n50% { transform:  rotate(-2deg);\n}\n60% { transform:  rotate(-4deg);\n}\n70% { transform:  rotate(-2deg);\n}\n80% { transform:  rotate(0deg);\n}\n90% { transform:  rotate(2deg);\n}\n100% { transform: rotate(0deg);\n}\n}\n@keyframes tilt-n-move-shaking-data-v-0adbb604 {\n0% { transform: translate(0, 0) rotate(0deg);\n}\n25% { transform: translate(5px, 5px) rotate(5deg);\n}\n50% { transform: translate(0, 0) rotate(0deg);\n}\n75% { transform: translate(-5px, 5px) rotate(-5deg);\n}\n100% { transform: translate(0, 0) rotate(0deg);\n}\n}\n@keyframes tilt-n-move-shaking2-data-v-0adbb604 {\n0% { transform: translate(0, 0) rotate(0deg);\n}\n50% { transform: translate(2px, 10px) rotate(-5deg);\n}\n100% { transform: translate(0, 0) rotate(0deg);\n}\n}\n",""]),t.exports=e},"9Wh1":function(t,e,s){"use strict";s("EVdn"),s("hKte"),s("SYky")},ABpN:function(t,e,s){"use strict";var n=s("wd/R"),a=s.n(n),o={props:{created:{type:String,required:!0},refreshEvery:{type:Number,default:5}},data:function(){return{timeFromNow:null}},created:function(){this.getTimeFromNow(),setInterval(this.getTimeFromNow,1e3*this.refreshEvery)},destroyed:function(){clearInterval(this.getTimeFromNow)},methods:{getTimeFromNow:function(){this.timeFromNow=a()(this.created).fromNow()}},computed:{getFillTime:function(){return a()(this.created).format("LLL")}}},r=s("KHd+"),i=Object(r.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("span",{attrs:{title:this.getFillTime}},[this._v(this._s(this.timeFromNow))])}),[],!1,null,null,null);e.a=i.exports},B3hy:function(t,e,s){"use strict";var n=s("XuX8"),a=s.n(n),o=s("jE9Z"),r=s("uCYj").a,i=(s("im/9"),s("KHd+")),c=Object(i.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 order-md-1"},[s("h4",{staticClass:"mb-3"},[t._v("Your rooms")]),t._v(" "),s("form",{staticClass:"mb-4",on:{submit:function(e){return e.preventDefault(),t.createRoom(e)}}},[s("text-error",{attrs:{text:t.roomErrorText}}),t._v(" "),s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.nameNewRoom,expression:"nameNewRoom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter the name of the new room"},domProps:{value:t.nameNewRoom},on:{input:function(e){e.target.composing||(t.nameNewRoom=e.target.value)}}}),t._v(" "),t._m(0)]),t._v(" "),t._m(1)],1),t._v(" "),t.rooms.length>0?s("ul",{staticClass:"list-group mb-3"},t._l(t.rooms,(function(e){return s("li",{staticClass:"list-group-item d-flex justify-content-between lh-condensed"},[s("span",[s("router-link",{staticStyle:{cursor:"pointer"},attrs:{link:"",to:{name:"room",params:{hash:e.hash}}}},[s("h6",{staticClass:"my-0"},[t._v(t._s(e.name))])]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v("\n\t\t\t\t\t\tSet: "+t._s(e.cardset?e.cardset.name:"Default")+" •\n\t\t\t\t\t\tUpdated at "),s("timer",{attrs:{created:e.updated_at}})],1)],1),t._v(" "),s("span",[s("span",{staticClass:"badge wn-button",attrs:{title:"Set password"},on:{click:function(s){return t.setPassword(e.id)}}},[s("i",{staticClass:"fa fa-fw",class:{"fa-unlock":!e.hasPassword,"fa-lock":e.hasPassword},attrs:{"aria-hidden":"true"}})]),t._v(" "),s("span",{staticClass:"badge wn-button",attrs:{title:"Clone the room"},on:{click:function(s){return t.cloneRoom(e.id,e.name)}}},[s("i",{staticClass:"fa fa-fw fa-clone",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("span",{staticClass:"badge wn-button",attrs:{title:"Delete the room"},on:{click:function(s){return t.deleteRoom(e.id)}}},[s("i",{staticClass:"fa fa-fw fa-trash-o",attrs:{"aria-hidden":"true"}})])])])})),0):t._e()]),t._v(" "),s("div",{staticClass:"col-md-4 order-md-2 mb-4"},[s("h4",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[t._v("Your name")]),t._v(" "),s("form",{staticClass:"mb-4",on:{submit:function(e){return e.preventDefault(),t.saveName(e)}}},[s("text-error",{attrs:{text:t.changeNameErrorText}}),t._v(" "),s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),t._m(2)])],1),t._v(" "),s("h4",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[t._v("Your secret UUID")]),t._v(" "),s("div",{staticClass:"input-group mb-3"},[s("input",{staticClass:"form-control",attrs:{type:t.uidVisibility?"text":"password",readonly:""},domProps:{value:t.$root.getUser()},on:{focus:function(t){return t.target.select()}}}),t._v(" "),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.uidVisibility=!t.uidVisibility}}},[s("i",{staticClass:"fa",class:{"fa-eye":!t.uidVisibility,"fa-eye-slash":t.uidVisibility},attrs:{"aria-hidden":"true"}})]),t._v(" "),s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.changeUid}},[s("i",{staticClass:"fa fa-pencil-square-o",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.copyUid}},[t._v("Copy")])])]),t._v(" "),t._m(3),t._v(" "),t.visitHistory.length>0?s("h4",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[t._v("Visit history")]):t._e(),t._v(" "),t.visitHistory.length>0?s("div",t._l(t.visitHistory,(function(e){return s("div",[s("router-link",{staticStyle:{cursor:"pointer"},attrs:{link:"",to:{name:"room",params:{hash:e.hash}}}},[s("h6",{staticClass:"my-0"},[t._v(t._s(e.name))])]),t._v(" "),s("hr")],1)})),0):t._e()])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Create room")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("small",{staticClass:"text-muted"},[this._v("\n\t\t\t\tThis site is protected by reCAPTCHA and the Google\n\t\t\t\t\t"),e("a",{attrs:{href:"https://policies.google.com/privacy",rel:"nofollow",target:"_blank"}},[this._v("Privacy Policy")]),this._v(" and\n\t\t\t\t\t"),e("a",{attrs:{href:"https://policies.google.com/terms",rel:"nofollow",target:"_blank"}},[this._v("Terms of Service")]),this._v(" apply.\n\t\t\t")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"submit"}},[this._v("Save")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-4"},[e("p",[this._v("This is your unique user ID. Your rooms are tied to it and your owner rights are determined by it.")]),this._v(" "),e("p",[this._v("You can copy and paste it on your other devices so you can access your rooms from all your devices.")]),this._v(" "),e("p",[this._v("Do not share this code with other people.")])])}],!1,null,"97e1c85e",null).exports,l=s("yG42").a,u=(s("5a3p"),Object(i.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 order-md-2 mb-4",staticStyle:{position:"inherit"}},[s("users-list",{attrs:{socket:t.socket,users:t.users,room:t.room,average:t.average}}),t._v(" "),s("chat",{attrs:{socket:t.socket,room:t.room}})],1),t._v(" "),s("div",{staticClass:"col-md-8 order-md-1"},[s("h4",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[s("div",[t.changeRoomNameSwitcher?t._e():s("span",[t._v(t._s(t.room.name))]),t._v(" "),t.room.isOwner&&t.changeRoomNameSwitcher?s("form",{on:{submit:function(e){return e.preventDefault(),t.saveRoomName(e)}}},[s("text-error",{attrs:{text:t.changeRoomNameErrorText}}),t._v(" "),s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.room.name,expression:"room.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter room name"},domProps:{value:t.room.name},on:{input:function(e){e.target.composing||t.$set(t.room,"name",e.target.value)}}}),t._v(" "),t._m(0)])],1):t._e(),t._v(" "),""!==t.room.name&&t.room.isOwner&&!t.changeRoomNameSwitcher?s("span",{staticClass:"badge wn-button",attrs:{title:"Edit room's name"},on:{click:t.editRoomName}},[s("i",{staticClass:"fa fa-fw fa-pencil",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),""!==t.room.name&&t.room.isOwner&&!t.changeRoomNameSwitcher?s("span",{staticClass:"badge wn-button",attrs:{title:"Set password"},on:{click:t.setPassword}},[s("i",{staticClass:"fa fa-fw",class:{"fa-unlock":!t.room.hasPassword,"fa-lock":t.room.hasPassword},attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),""===t.room.name||t.room.isOwner?t._e():s("span",{staticClass:"badge"},[s("i",{staticClass:"fa",class:{"fa-unlock":!t.room.hasPassword,"fa-lock":t.room.hasPassword},attrs:{"aria-hidden":"true"}})]),t._v(" "),""===t.room.name||t.changeRoomNameSwitcher?t._e():s("span",{staticClass:"badge wn-button",attrs:{"data-toggle":"modal","data-target":"#qrcode"}},[s("i",{staticClass:"fa fa-fw fa-share",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"qrcode",tabindex:"-1",role:"dialog","aria-labelledby":"qrcodeModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),s("div",{staticClass:"modal-body",staticStyle:{"text-align":"center"}},[s("qrcode-vue",{attrs:{value:t.fullPageUrl,size:300,level:"H"}}),t._v(" "),s("a",{attrs:{href:t.fullPageUrl}},[t._v(t._s(t.fullPageUrl))])],1),t._v(" "),t._m(2)])])])]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:""!==t.room.name,expression:"room.name !== ''"}],staticClass:"badge badge-secondary"},[s("stopwatch",{ref:"stopwatch"})],1)]),t._v(" "),s("cards",{ref:"cards",attrs:{socket:t.socket,canVote:t.canVote,room:t.room,users:t.users}}),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.room.isOwner?s("div",{staticClass:"row ml-0"},[0===t.stage?s("button",{staticClass:"btn mr-3 col-md-3 mb-3 btn-primary",on:{click:t.startVote}},[t._v("Start vote")]):t._e(),t._v(" "),1===t.stage||2===t.stage?s("button",{staticClass:"btn mr-3 mb-3 col-md-3 btn-primary",on:{click:t.resetVote}},[t._v("Reset")]):t._e(),t._v(" "),t.canSkipButton?s("button",{staticClass:"btn mr-3 mb-3 col-md-3 btn-primary",on:{click:t.skipVote}},[t._v("Skip")]):t._e(),t._v(" "),t.canReVoteButton?s("button",{staticClass:"btn mr-3 col-md-3 mb-3 btn-primary",on:{click:t.revote}},[t._v("Revote")]):t._e()]):t._e()]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.room.task?s("div",{staticClass:"row ml-0 mr-0 mt-3 mb-3 pt-0"},[s("h4",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[s("span",[t._v("Сurrent task")])]),t._v(" "),s("div",{staticClass:"mb-2 col-12 p-0"},[s("vue-markdown",{staticClass:"alert alert-primary mb-0 p-2",attrs:{html:!1,anchorAttributes:t.anchorAttributes,source:t.room.task.text}})],1)]):t._e()]),t._v(" "),s("task-list",{ref:"tasksList",attrs:{socket:t.socket,room:t.room},on:{approve:t.onApprove}})],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"submit"}},[this._v("Save")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"qrcodeModalLabel"}},[this._v("Share QR Code")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])}],!1,null,"a73107e6",null).exports),d=s("ABpN"),m=s("nOak"),h=s.n(m),f=(s("wZee"),s("qHiR"),s("Yhcd"),s("jpss"),s("gAkk"),{props:["socket"],components:{VueMarkdown:h.a,Timer:d.a},data:function(){return{news:[]}},mounted:function(){var t=this;this.socket.request("new.get",{}).then((function(e){t.news=e.data}));this.$root.setTitle()},methods:{},computed:{anchorAttributes:function(){return{target:"blank",rel:"nofollow"}}}}),p=Object(i.a)(f,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",{staticClass:"d-flex justify-content-between align-items-center my-4"},[s("span",{staticClass:"text-muted"},[t._v("News")]),t._v(" "),s("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.news.length))])]),t._v(" "),t._l(t.news,(function(e){return s("div",{key:e.id,staticClass:"card mb-4"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v(t._s(e.title))]),t._v(" "),s("vue-markdown",{attrs:{html:!1,anchorAttributes:t.anchorAttributes,source:e.text}}),t._v(" "),s("p",{staticClass:"card-text"},[s("small",{staticClass:"text-muted"},[t._v("Created at "),s("timer",{attrs:{created:e.created_at}})],1)])],1)])}))],2)}),[],!1,null,null,null).exports,v={props:["socket"],mounted:function(){this.$root.setTitle()},components:{VueMarkdown:h.a},computed:{anchorAttributes:function(){return{target:"blank",rel:"nofollow"}}}},b=(s("FwFQ"),Object(i.a)(v,(function(){var t=this.$createElement;return(this._self._c||t)("vue-markdown",{attrs:{html:!0,anchorAttributes:this.anchorAttributes,source:"##### About\n\nThis site has been designed to carry out poker planning within the team. The goal was to develop a user-friendly online scheduling tool so that participants can vote from both a PC and a mobile device. As a result, this project can be used for planning poker online and offline, via mobile devices.\n\n> Planning poker, also called Scrum poker, is a consensus-based, gamified technique for estimating, mostly used for timeboxing in Agile principles. In planning poker, members of the group make estimates by playing numbered cards face-down to the table, instead of speaking them aloud. The cards are revealed, and the estimates are then discussed. By hiding the figures in this way, the group can avoid the cognitive bias of anchoring, where the first number spoken aloud sets a precedent for subsequent estimates.\n>\n> Planning poker is a variation of the Wideband delphi method. It is most commonly used in agile software development, in particular in Scrum and Extreme Programming.\n>\n> The method was first defined and named by James Grenning in 2002 and later popularized by Mike Cohn in the book Agile Estimating and Planning, whose company trade marked the term and a digital online tool.\n>\n>@wikipedia.org"}})}),[],!1,null,null,null).exports);a.a.use(o.a);var g=new o.a({mode:"history",routes:[{path:"/",name:"home",component:c},{path:"/room/:hash",name:"room",component:u,props:!0},{path:"/news",name:"news",component:p},{path:"/about",name:"about",component:b}]});e.a=g},BPew:function(t,e,s){(e=s("JPst")(!1)).push([t.i,"\n.list-group-item[data-v-305e101a] {\n\tpadding: 10px;\n}\n.fade-enter-active[data-v-305e101a] {\n\ttransition: all .5s;\n}\n.fade-enter[data-v-305e101a], .fade-leave-to[data-v-305e101a] {\n\topacity: 0;\n}\n",""]),t.exports=e},Cnsx:function(t,e,s){"use strict";var n=s("nOak"),a=s.n(n),o=s("MQ60"),r=s.n(o),i=s("djG4"),c=s("XuX8"),l=s.n(c),u=s("a5i7"),d=s.n(u),m=s("wZee"),h=s.n(m);s("qHiR"),s("Yhcd"),s("jpss"),s("gAkk");l.a.use(d.a);var f={props:{text:{type:String,required:!0},placeholder:{type:String,required:!0},button:{type:String,required:!0},isEdit:{type:Boolean,default:!1}},components:{VueMarkdown:a.a,Focusable:i.a},data:function(){return{textLocal:"",isPreview:!1,mode:"once"}},methods:{onPasteImage:function(t){0==t.clipboardData&&"function"==typeof callback&&console.log(void 0);var e=t.clipboardData.items;null==e&&"function"==typeof callback&&console.log(void 0);for(var s=0;s<e.length;s++)if(-1!=e[s].type.indexOf("image")){var n=e[s].getAsFile();console.log(n)}},submit:function(){if("multi"===this.mode)for(var t=this.textLocal.split("\n"),e=0;e<t.length;e++)this.$emit("submit",{text:t[e]});else this.$emit("submit",{text:this.textLocal})},focus:function(){this.$refs.text.focus(),this.$refs.focusable.focus()},onBlurred:function(){this.isPreview=!1}},computed:{anchorAttributes:function(){return{target:"blank",rel:"nofollow"}}},watch:{text:function(){this.textLocal=this.text},isPreview:function(){this.isPreview&&this.$nextTick((function(){h.a.highlightAll()}))}}},p=(s("RzW8"),s("KHd+")),v=Object(p.a)(f,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("focusable",{ref:"focusable",staticClass:"pt-2 pl-2 pr-2 mb-4",on:{blurred:t.onBlurred},scopedSlots:t._u([{key:"footer",fn:function(){return[s("button",{directives:[{name:"show",rawName:"v-show",value:!t.isPreview,expression:"!isPreview"}],staticClass:"btn btn-light btn-sm",on:{click:function(e){e.preventDefault(),t.isPreview=!0}}},[t._v("Preview")]),t._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:t.isPreview,expression:"isPreview"}],staticClass:"btn btn-light btn-sm",on:{click:function(e){e.preventDefault(),t.isPreview=!1}}},[t._v("Edit")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEdit,expression:"!isEdit"}],staticClass:"btn-group btn-group-toggle",attrs:{"data-toggle":"buttons"}},[s("label",{staticClass:"btn btn-light btn-sm",class:{active:"once"===t.mode}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],attrs:{type:"radio"},domProps:{checked:t._q(t.mode,null)},on:{click:function(e){t.mode="once"},change:function(e){t.mode=null}}}),t._v("Once\n\t\t\t")]),t._v(" "),s("label",{staticClass:"btn btn-light btn-sm",class:{active:"multi"===t.mode}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],attrs:{type:"radio"},domProps:{checked:t._q(t.mode,null)},on:{click:function(e){t.mode="multi"},change:function(e){t.mode=null}}}),t._v("Multi\n\t\t\t")])]),t._v(" "),s("button",{staticClass:"btn btn-light btn-sm",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"Markdown supported",disabled:""}},[s("i",{staticClass:"fa fa-question-circle-o",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("button",{staticClass:"btn btn-sm float-right",class:{"btn-success":t.isEdit,"btn-primary":!t.isEdit},attrs:{type:"submit",disabled:0===t.textLocal.length},on:{click:function(e){return e.preventDefault(),t.submit(e)}}},[t._v(t._s(t.button))])]},proxy:!0}])},[s("form",{directives:[{name:"show",rawName:"v-show",value:!t.isPreview,expression:"!isPreview"}],on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("div",{staticClass:"input-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textLocal,expression:"textLocal"},{name:"autosize",rawName:"v-autosize",value:t.textLocal,expression:"textLocal"}],ref:"text",staticClass:"text-box",class:{"text-success":t.isEdit},attrs:{placeholder:t.placeholder,rows:"1"},domProps:{value:t.textLocal},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.submit(e))},paste:t.onPasteImage,focus:function(e){return t.$refs.focusable.focus()},input:function(e){e.target.composing||(t.textLocal=e.target.value)}}})])]),t._v(" "),t.isPreview?s("vue-markdown",{attrs:{html:!1,anchorAttributes:t.anchorAttributes,source:t.textLocal}}):t._e()],1)}),[],!1,null,"43f3dd93",null).exports,b=s("6NXp"),g=s.n(b),k={props:["socket","room"],components:{VueMarkdown:a.a,Draggable:r.a,TaskForm:v},data:function(){return{drag:!1,text:"",tasks:[],edit:{enabled:!1,text:"",id:""},textFocused:!1,cards:[],cardsets:{}}},mounted:function(){var t=this;this.cardsets=g.a,this.socket.group("task"),this.socket.listener("room.task.add",(function(e){t.tasks.push(e.task),t.tasksSort(),t.$nextTick((function(){h.a.highlightAll()}))})),this.socket.listener("room.task.remove",(function(e){for(var s=0;s<t.tasks.length;s++)if(t.tasks[s].id===e.id){t.tasks.splice(s,1),t.save();break}})),this.socket.listener("room.task.update",(function(e){for(var s=0;s<t.tasks.length;s++)if(t.tasks[s].id===e.task.id){t.$set(t.tasks,s,e.task),t.save();break}})),this.socket.listener("room.task.update.all",(function(e){t.tasks=e.tasks,t.tasksSort()})),this.socket.listener("room.task.approve",(function(e){for(var s=0;s<t.tasks.length;s++)if(t.tasks[s].id===e.id){t.$set(t.tasks[s],"story_point",e.point),t.$set(t.tasks[s],"story_point_view",e.view),t.save();break}t.$emit("approve",e)})),this.socket.endGroup()},destroyed:function(){this.socket.offGroup("task")},methods:{init:function(){var t=this;localStorage["tasks-"+this.room.hash]&&(this.tasks=JSON.parse(localStorage["tasks-"+this.room.hash]));this.socket.request("task.get",{room:this.room.hash}).then((function(e){t.tasks=e.data,t.tasksSort()}))},endDrag:function(){this.drag=!1;for(var t=0;t<this.tasks.length;t++){var e=this.tasks[t];e.order=t+1,this.$set(this.tasks,t,e)}this.saveInServer(),this.save()},add:function(t){var e=this;if(this.text=t.text,""===this.text)return!1;this.socket.request("task.create",{text:this.text,user:this.$root.getUser(),room:this.room.hash}).then((function(t){e.text=""}))},remove:function(t){var e=this;if(confirm("Remove task?"))this.socket.request("task.delete",{id:t,user:this.$root.getUser()}).then((function(s){for(var n=0;n<e.tasks.length;n++)if(e.tasks[n].id===t){e.tasks.splice(n,1),e.save();break}}))},editInit:function(t){for(var e=this,s=0;s<this.tasks.length;s++)if(this.tasks[s].id===t){this.edit.enabled=!0,this.edit.id=this.tasks[s].id,this.edit.text=this.tasks[s].text,this.$nextTick((function(){e.$refs.editForm.focus()}));break}},editSave:function(t){var e=this;this.edit.text=t.text;this.socket.request("task.update",{id:this.edit.id,text:this.edit.text,user:this.$root.getUser()}).then((function(t){e.edit.enabled=!1,e.edit.text="",e.edit.id=""}))},editStoryPoint:function(t,e,s){this.socket.request("task.update",{id:t,story_point:e,story_point_view:s,user:this.$root.getUser()})},save:function(){localStorage["tasks-"+this.room.hash]=JSON.stringify(this.tasks)},saveInServer:function(){this.socket.send({action:"room.task.update.all",room:this.room.hash,tasks:this.tasks,owner:this.$root.getUser()})},tasksSort:function(){this.tasks.sort((function(t,e){return t.order-e.order})),this.save()}},computed:{dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},anchorAttributes:function(){return{target:"blank",rel:"nofollow"}},completedTasks:function(){for(var t=0,e=0;e<this.tasks.length;e++)null!==this.tasks[e].story_point&&void 0!==this.tasks[e].story_point&&t++;return t},haveUnratedTasks:function(){for(var t=0;t<this.tasks.length;t++)if(null===this.tasks[t].story_point||void 0===this.tasks[t].story_point)return!0;return!1},amount:function(){for(var t=0,e=0;e<this.tasks.length;e++)null!==this.tasks[e].story_point&&void 0!==this.tasks[e].story_point&&(t+=parseFloat(this.tasks[e].story_point));return t}},watch:{"room.id":function(){void 0!==this.room.id&&null!==this.room.id&&this.init()},"room.cardset":function(t,e){if(void 0!==t.name){if("Custom"===t.name)this.cards=t.cards;else for(var s in this.cardsets)if(s===t.name){this.cards=this.cardsets[s];break}}else this.cards=this.cardsets.Default}}},w=(s("ja8V"),Object(p.a)(k,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[t.tasks.length||t.room.isOwner?s("div",[s("h4",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[s("span",[t._v("Tasks")]),t._v(" "),s("div",[s("span",{staticClass:"badge badge-secondary",attrs:{title:"Completed tasks/Number of tasks"}},[t._v(t._s(t.completedTasks)+"/"+t._s(t.tasks.length))]),t._v(" "),s("span",{staticClass:"badge badge-primary",attrs:{title:"Amount story points"}},[t._v(t._s(t.amount))])])]),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("task-form",{directives:[{name:"show",rawName:"v-show",value:t.room.isOwner&&!t.edit.enabled,expression:"room.isOwner && !edit.enabled"}],attrs:{text:t.text,placeholder:"Enter text new task",button:"Add task"},on:{submit:t.add}})],1),t._v(" "),s("task-form",{directives:[{name:"show",rawName:"v-show",value:t.room.isOwner&&t.edit.enabled,expression:"room.isOwner && edit.enabled"}],ref:"editForm",attrs:{text:t.edit.text,placeholder:"Enter text",button:"Save",isEdit:!0},on:{submit:t.editSave}}),t._v(" "),s("draggable",t._b({attrs:{handle:".handle"},on:{start:function(e){t.drag=!0},end:t.endDrag},model:{value:t.tasks,callback:function(e){t.tasks=e},expression:"tasks"}},"draggable",t.dragOptions,!1),[s("transition-group",{staticClass:"list-group mb-3",attrs:{tag:"ul",type:"transition",name:t.drag?null:"flip-list"}},t._l(t.tasks,(function(e){return s("li",{key:e.id,staticClass:"list-group-item d-flex justify-content-between lh-condensed task",class:{"task-complite":e.story_point_view,"task-active":e.id===(t.room.task?t.room.task.id:0)}},[s("div",[s("span",{staticClass:"text-muted"},[t._v("#"+t._s(e.order))]),t._v(" "),s("vue-markdown",{attrs:{html:!1,anchorAttributes:t.anchorAttributes,source:e.text}})],1),t._v(" "),s("span",{staticClass:"control text-muted"},[t.room.isOwner?s("span",{staticClass:"control-owner"},[s("i",{staticClass:"fa fa-fw fa-align-justify handle",attrs:{title:"Sort"}}),t._v(" "),s("i",{staticClass:"fa fa-fw fa-pencil button-icon",attrs:{title:"Edit"},on:{click:function(s){return s.stopPropagation(),t.editInit(e.id)}}}),t._v(" "),s("i",{staticClass:"fa fa-fw fa-trash-o button-icon",attrs:{title:"Delete"},on:{click:function(s){return t.remove(e.id)}}})]):t._e(),t._v(" "),e.story_point_view&&!t.room.isOwner?s("span",{staticClass:"story-point",attrs:{title:"Story points"}},[s("vue-markdown",{staticClass:"view",attrs:{html:!1,anchorAttributes:t.anchorAttributes,source:e.story_point_view}})],1):t._e(),t._v(" "),e.story_point_view&&t.room.isOwner?s("div",{staticClass:"btn-group",attrs:{role:"group"}},[s("div",{staticClass:"btn-group",attrs:{role:"group"}},[s("span",{staticClass:"story-point btn btn-primary dropdown-toggle",attrs:{title:"Story points","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("vue-markdown",{staticClass:"view",attrs:{html:!1,anchorAttributes:t.anchorAttributes,source:e.story_point_view}})],1),t._v(" "),s("div",{staticClass:"dropdown-menu"},t._l(t.cards,(function(n,a){return s("button",{key:a,staticClass:"dropdown-item btn-sm",attrs:{type:"button"},on:{click:function(s){return t.editStoryPoint(e.id,n.point,n.view)}}},[s("vue-markdown",{staticClass:"view",attrs:{html:!1,anchorAttributes:t.anchorAttributes,source:n.view}})],1)})),0)])]):t._e()])])})),0)],1)],1):t._e()])}),[],!1,null,"5a8b4e1c",null));e.a=w.exports},FwFQ:function(t,e,s){"use strict";var n=s("n7d9");s.n(n).a},GcHl:function(t,e,s){var n=s("LboF"),a=s("qvRU");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);t.exports=a.locals||{}},Hv1J:function(t,e,s){"use strict";var n=s("LxbB");s.n(n).a},J3qi:function(t,e,s){(e=s("JPst")(!1)).push([t.i,"\n.chat-block[data-v-013d25fc] {\n\tz-index: 10;\n\tposition: fixed;\n\tbottom: 10px;\n\tright: 10px;\n\tmax-height: calc(100vh - 20px);\n}\n.message-block[data-v-013d25fc] {\n\toverflow: hidden;\n\tmax-height: calc(100vh - 58px);\n\toverflow-anchor: none;\n}\n.chat-anchor[data-v-013d25fc] {\n\toverflow-anchor: auto;\n\theight: 1px;\n}\n.toast[data-v-013d25fc] {\n\tmin-width: 350px;\n\tbox-shadow: none;\n}\n.toast-header[data-v-013d25fc] {\n\tpadding: 4px 10px;\n}\n.toast-body[data-v-013d25fc] {\n\tpadding: 10px;\n}\n@media (max-width: 576px) {\n.toast[data-v-013d25fc], .chat-block[data-v-013d25fc], .message-block[data-v-013d25fc] {\n\t\tmin-width: calc(100% - 20px);\n}\n.toast[data-v-013d25fc] {\n\t\tmax-width: 100%;\n}\n}\ntextarea.message-box[data-v-013d25fc] {\n\tposition: relative;\n\tflex: 1 1 auto;\n\twidth: 1%;\n\tmin-width: 0;\n\toverflow: hidden;\n\toverflow-wrap: break-word;\n\tmin-height: 20px;\n\tline-height: 20px;\n\tfont-size: 14px;\n\tborder: none;\n\toutline: 0;\n\tresize: none;\n}\n.show-all[data-v-013d25fc] {\n\tcursor: pointer;\n}\n.clear-all[data-v-013d25fc] {\n\tbackground-color: rgba(255,255,255,.85);\n\tborder: 1px solid rgba(0,0,0,.1);\n\tbackdrop-filter: blur(10px);\n}\n.clear-all[data-v-013d25fc]:hover {\n\tbackground-color: rgba(108,117,125,.85);\n}\n.fade-enter-active[data-v-013d25fc] {\n\ttransition: opacity .5s;\n}\n.fade-leave-active[data-v-013d25fc] {\n\ttransition: opacity .5s;\n}\n.fade-enter[data-v-013d25fc], .fade-leave-to[data-v-013d25fc] {\n\topacity: 0;\n}\n.list-enter-active[data-v-013d25fc], .list-leave-active[data-v-013d25fc] {\n\ttransition: transform .5s, opacity .5s;\n}\n.list-enter[data-v-013d25fc], .list-leave-to[data-v-013d25fc] {\n\topacity: 0;\n\ttransform: translateX(30px);\n}\n.history .message-block[data-v-013d25fc] {\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\tmax-height: 400px;\n}\n.history .toast[data-v-013d25fc] {\n\tmin-width: 100%;\n}\n.history .toast[data-v-013d25fc]:last-of-type {\n\tmargin-bottom: 0 !important;\n}\n.history .toast-body[data-v-013d25fc] {\n\tpadding: 5px 10px;\n}\n",""]),t.exports=e},LxbB:function(t,e,s){var n=s("LboF"),a=s("bB1K");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);t.exports=a.locals||{}},McZ9:function(t,e,s){"use strict";var n={props:[],data:function(){return{list:[{title:"Home",route:"home",params:{}},{title:"News",route:"news",params:{}},{title:"About",route:"about",params:{}}]}},created:function(){},methods:{isCurrent:function(t){return this.$route.name===t}}},a=s("KHd+"),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[s("ul",{staticClass:"navbar-nav"},t._l(t.list,(function(e){return s("li",{key:e.route,staticClass:"nav-item",class:{active:t.isCurrent(e.route)}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:e.route,params:e.params}}},[t._v("\n\t\t\t\t"+t._s(e.title)),t.isCurrent(e.route)?s("span",{staticClass:"sr-only"},[t._v("(current)")]):t._e()])],1)})),0)])}),[],!1,null,null,null);e.a=o.exports},RdJC:function(t,e,s){"use strict";var n=s("nOak"),a=s.n(n),o=s("wZee"),r=s.n(o),i=(s("qHiR"),s("Yhcd"),s("jpss"),s("gAkk"),s("6NXp")),c=s.n(i);function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){d(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function d(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var m={props:{value:{type:String,default:""}},computed:{listeners:function(){return u(u({},this.$listeners),{},{input:this.onInput})}},mounted:function(){this.$refs.editable.innerText=this.value},methods:{onInput:function(t){this.$emit("input",t.target.innerText)}}},h=s("KHd+"),f={props:["socket","canVote","room","users"],components:{Editable:Object(h.a)(m,(function(){var t=this.$createElement;return(this._self._c||t)("span",this._g({ref:"editable",attrs:{contenteditable:""}},this.listeners))}),[],!1,null,null,null).exports,VueMarkdown:a.a},data:function(){return{approve:!1,cover:"/images/cards/cover_min.png",editing:!1,cards:[],cardsets:{}}},mounted:function(){var t=this;this.cardsets=c.a,this.socket.listener("room.card.shake",(function(e){for(var s=0;s<t.cards.length;s++)if(t.cards[s].view===e.view){t.$set(t.cards[s],"shake",!0),setTimeout((function(){t.$set(t.cards[s],"shake",!1)}),500);break}}),"card")},destroyed:function(){this.socket.offGroup("card")},methods:{vote:function(t,e){var s=this;if(this.editing)return!1;this.canVote&&(this.selectPoint=t,this.socket.send({action:"room.vote",room:this.room.hash,point:t,view:e})),this.approve&&(this.socket.send({action:"room.task.approve",id:this.room.task.id,point:t,view:e}),this.stopApprove());for(var n=0;n<this.cards.length;n++)if(this.cards[n].view===e){this.$set(this.cards[n],"shake",!0),clearTimeout(this.cards[n].animation),this.$set(this.cards[n],"animation",setTimeout((function(){s.$set(s.cards[n],"shake",!1)}),500));break}},startApprove:function(){null!==this.room.task&&(this.approve=!0)},stopApprove:function(){this.approve=!1},cardShake:function(t){this.socket.send({action:"room.card.shake",view:t,room:this.room.hash})},newCard:function(){this.cards.push({view:"Card "+(this.cards.length+1),point:"0",color:"#"})},deleteCard:function(t){if(2===this.cards.length)return alert("Minimum number of cards in a set 2."),!1;confirm("Delete this card?")&&this.cards.splice(t,1)},saveCardSet:function(){var t=this;if(this.room.isOwner)this.socket.request("room.update",{id:this.room.id,owner:this.$root.getUser(),cardset:{name:"Custom",cards:this.cards}}).then((function(e){t.editing=!1}))},canselEditing:function(){this.editing=!1},setCardSet:function(t){var e=this;if(this.room.isOwner)this.socket.request("room.update",{id:this.room.id,owner:this.$root.getUser(),cardset:{name:t}}).then((function(t){e.editing=!1}))},isApprove:function(t){for(var e=0;e<this.users.length;e++){if(this.users[e].voteView===t)return!0}}},computed:{anchorAttributes:function(){return{target:"blank",rel:"nofollow"}}},watch:{"room.task":function(){this.$nextTick((function(){r.a.highlightAll()}))},"room.cardset":function(t,e){if(void 0!==t.name){if("Custom"===t.name)this.cards=t.cards;else for(var s in this.cardsets)if(s===t.name){this.cards=this.cardsets[s];break}}else this.cards=this.cardsets.Default}}},p=(s("TVrA"),s("Hv1J"),Object(h.a)(f,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row mb-0 pt-0",class:{approve:t.approve}},[t.room.isOwner?s("div",{staticClass:"btn-toolbar col-12 d-flex justify-content-between align-items-center mb-2"},[s("div",{staticClass:"btn-group mr-3",attrs:{role:"group"}},[s("div",{staticClass:"btn-group",attrs:{role:"group"}},[s("button",{staticClass:"btn btn-primary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(t.room.cardset&&t.room.cardset.name||"Default"))]),t._v(" "),s("div",{staticClass:"dropdown-menu"},t._l(t.cardsets,(function(e,n){return s("button",{key:n,staticClass:"dropdown-item btn-sm",attrs:{type:"button"},on:{click:function(e){return t.setCardSet(n)}}},[t._v("\n\t\t\t\t\t\t"+t._s(n)+"\n\t\t\t\t\t")])})),0)])]),t._v(" "),s("div",{staticClass:"btn-group",attrs:{role:"group"}},[t.editing?t._e():s("button",{staticClass:"btn btn-sm",class:{"btn-success":t.editing,"btn-outline-success":!t.editing},attrs:{type:"button"},on:{click:function(e){t.editing=!t.editing}}},[t._v("Edit card set")]),t._v(" "),t.editing?s("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:t.saveCardSet}},[t._v("Save card set")]):t._e()])]):t._e(),t._v(" "),s("div",{staticClass:"col-12"},[t.approve?s("div",{staticClass:"alert alert-success mb-2",attrs:{role:"alert"}},[t._v("\n\t\t\tYou must confirm the vote for the current task.\n\t\t")]):t._e()]),t._v(" "),t._l(t.cards,(function(e,n){return s("div",{key:e.view,staticClass:"poker-card mb-3 d-flex col-3 col-md-2 justify-content-between"},[s("div",{staticClass:"flip-container",class:{hover:t.canVote||t.approve&&t.isApprove(e.view)||t.editing}},[s("div",{staticClass:"flipper"},[s("div",{staticClass:"front",class:{shake:e.shake},on:{click:function(s){return t.cardShake(e.view)}}}),t._v(" "),s("div",{staticClass:"back",class:{editable:t.editing}},[s("div",{staticClass:"poker-card-front",class:{shake:e.shake},style:"background-color: "+e.color+";",on:{click:function(s){return s.preventDefault(),t.vote(e.point,e.view)}}},[t.editing?t._e():s("vue-markdown",{staticClass:"view",attrs:{html:!1,anchorAttributes:t.anchorAttributes,source:e.view}}),t._v(" "),t.editing?s("div",[s("div",{staticClass:"input-group input-group-sm mb-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.view,expression:"card.view"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Small","aria-describedby":"view"},domProps:{value:e.view},on:{input:function(s){s.target.composing||t.$set(e,"view",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-group input-group-sm mb-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.point,expression:"card.point"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Small","aria-describedby":"point"},domProps:{value:e.point},on:{input:function(s){s.target.composing||t.$set(e,"point",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-group input-group-sm mb-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.color,expression:"card.color"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Small","aria-describedby":"color"},domProps:{value:e.color},on:{input:function(s){s.target.composing||t.$set(e,"color",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-group input-group-sm mb-1"},[s("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.deleteCard(n)}}},[t._v("Delete card")])])]):t._e()],1)])])])])})),t._v(" "),t.editing?s("div",{staticClass:"poker-card mb-2 d-flex col-3 col-md-2 pt-3 justify-content-between"},[s("div",{staticClass:"flip-container hover"},[s("div",{staticClass:"flipper"},[s("div",{staticClass:"front"},[s("img",{attrs:{src:t.cover,width:"100%"}})]),t._v(" "),s("div",{staticClass:"back"},[s("div",{staticClass:"poker-card-front new-card",on:{click:function(e){return t.newCard()}}},[s("span",[t._v("New")])])])])])]):t._e()],2)}),[],!1,null,"0adbb604",null));e.a=p.exports},RnhZ:function(t,e,s){var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(t){var e=o(t);return s(e)}function o(t){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=o,t.exports=a,a.id="RnhZ"},RzW8:function(t,e,s){"use strict";var n=s("xPAj");s.n(n).a},TVrA:function(t,e,s){"use strict";var n=s("dAva");s.n(n).a},Tksb:function(t,e,s){"use strict";var n={props:{socket:{required:!0}},data:function(){return{}}},a=s("KHd+"),o=Object(a.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("router-view",{attrs:{socket:this.socket}})}),[],!1,null,null,null);e.a=o.exports},UbFU:function(t,e,s){(e=s("JPst")(!1)).push([t.i,"\n.panel-buttons[data-v-078e4951] {\n\talign-items: flex-start;\n}\n.pointer[data-v-078e4951] {\n\tcursor: pointer;\n}\n.user-control[data-v-078e4951] {\n\tfont-size: 100%;\n}\n.empty-card[data-v-078e4951] {\n\ttext-align: center;\n\twidth: 22px;\n\theight: 24px;\n\tcolor: #007bff;\n\tbackground-color: #007bff;\n\tborder-radius: .25rem;\n\tdisplay: inline-block;\n\tvertical-align: baseline;\n\twhite-space: nowrap;\n}\n.disconnected[data-v-078e4951] {\n\topacity: 0.5;\n}\n",""]),t.exports=e},VDkd:function(t,e,s){"use strict";var n=s("ABpN"),a=s("djG4"),o=s("wd/R"),r=s.n(o),i=s("XuX8"),c=s.n(i),l=s("a5i7"),u=s.n(l),d=s("nOak"),m=s.n(d),h=s("wZee"),f=s.n(h),p=(s("qHiR"),s("Yhcd"),s("jpss"),s("gAkk"),s("S3D4")),v=s.n(p);s("6XPX");c.a.use(u.a);var b={props:{socket:{type:Object,required:!0},room:{type:Object,required:!0}},components:{Timer:n.a,VueMarkdown:m.a,Focusable:a.a,VueCustomScrollbar:v.a},data:function(){return{message:"",messages:[],sound:null,showChatHistory:!0,scrollSettings:{suppressScrollY:!1,suppressScrollX:!0,wheelPropagation:!1}}},created:function(){this.sound=new Audio("../sounds/intuition.mp3"),this.sound.volume=.4},mounted:function(){var t=this;if(localStorage["messages-"+this.room.hash]){this.messages=JSON.parse(localStorage["messages-"+this.room.hash]);for(var e=0;e<this.messages.length;e++)this.messages[e].isShow&&(this.messages[e].notification?setTimeout(this.remove.bind(this,this.messages[e].id),5e3):setTimeout(this.hide.bind(this,this.messages[e].id),1e4));this.save()}this.socket.listener("room.chat.message",(function(e){t.messages.length>=30&&t.messages.shift(),t.messages.push({id:e.id,author_id:e.author_id,author_name:e.author_name,message:e.message,date:r()().format(),notification:e.notification,isShow:!t.showChatHistory||e.notification}),e.notification?setTimeout(t.remove.bind(t,e.id),1e4):setTimeout(t.hide.bind(t,e.id),2e4),t.save(),e.author_id!==t.room.clientId&&(t.sound.pause(),t.sound.currentTime=0,t.sound.play()),t.$nextTick((function(){f.a.highlightAll(),t.scrollToBottom()}))}),"chat"),this.$nextTick((function(){f.a.highlightAll(),t.scrollToBottom()}))},destroyed:function(){this.socket.offGroup("chat")},methods:{send:function(){""!==this.message&&(this.socket.send({action:"room.chat.send",room:this.room.hash,name:this.$root.name,message:this.message}),this.message="")},remove:function(t){for(var e=0;e<this.messages.length;e++)if(this.messages[e].id===t){this.messages.splice(e,1),this.save();break}},hide:function(t){for(var e=0;e<this.messages.length;e++)if(this.messages[e].id===t){this.messages[e].isShow=!1,this.save();break}},save:function(){var t=this;localStorage["messages-"+this.room.hash]=JSON.stringify(this.messages),this.$nextTick((function(){t.scrollToBottom()}))},scrollToBottom:function(){var t=document.querySelectorAll(".chat-anchor");if(null!==t)for(var e=0;e<t.length;e++)t[e].scrollIntoView({behavior:"auto",block:"nearest",inline:"start"})},clearAll:function(){for(var t=0;t<this.messages.length;t++)this.messages[t].isShow=!1;this.save()},switchShowChatHistory:function(){var t=this;this.showChatHistory=!this.showChatHistory,this.$nextTick((function(){f.a.highlightAll(),t.scrollToBottom()}))},getDate:function(t){return r.a.locale("en"),r()(t).fromNow()}},computed:{showMessagesLength:function(){for(var t=0,e=0;e<this.messages.length;e++)this.messages[e].isShow&&t++;return t}}},g=(s("8Gmd"),s("KHd+")),k=Object(g.a)(b,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"history mb-2"},[t.showChatHistory?s("div",{staticClass:"mb-0"},[s("vue-custom-scrollbar",{staticClass:"message-block",attrs:{id:"message-block",settings:t.scrollSettings}},[s("div",t._l(t.messages,(function(e){return e.notification?t._e():s("div",{key:e.id,staticClass:"toast show mb-1"},[s("div",{staticClass:"toast-body"},[s("strong",{staticClass:"mr-auto"},[t._v(t._s(e.author_name)+":")]),t._v(" "),s("small",{staticClass:"text-muted"},[s("timer",{attrs:{created:e.date}})],1),t._v(" "),s("vue-markdown",{attrs:{html:!1,anchorAttributes:{target:"blank",rel:"nofollow"}}},[t._v(t._s(e.message))])],1)])})),0),t._v(" "),s("div",{staticClass:"chat-anchor"})])],1):t._e()]),t._v(" "),s("focusable",{ref:"focusable",staticClass:"pt-2 pl-2 pr-2 mb-4",scopedSlots:t._u([{key:"footer",fn:function(){return[s("button",{staticClass:"btn btn-primary btn-sm float-right",attrs:{disabled:0===t.message.length},on:{click:function(e){return e.preventDefault(),t.send(e)}}},[t._v("Send")])]},proxy:!0}])},[s("form",{on:{submit:function(e){return e.preventDefault(),t.send(e)}}},[s("div",{staticClass:"input-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"},{name:"autosize",rawName:"v-autosize",value:t.message,expression:"message"}],ref:"message",staticClass:"message-box",attrs:{placeholder:"Enter your message",rows:"1"},domProps:{value:t.message},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.send(e))},focus:function(e){return t.$refs.focusable.focus()},input:function(e){e.target.composing||(t.message=e.target.value)}}})])])]),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showMessagesLength>0,expression:"showMessagesLength > 0"}],staticClass:"chat-block",attrs:{"aria-live":"polite","aria-atomic":"true"}},[s("div",{staticClass:"mb-2",staticStyle:{display:"flex","flex-direction":"column"}},[s("button",{staticClass:"btn clear-all btn-outline-secondary",attrs:{type:"submit"},on:{click:function(e){return t.clearAll()}}},[t._v("Hide all")])]),t._v(" "),s("div",{staticClass:"message-block",attrs:{id:"message-block"}},[s("transition-group",{attrs:{name:"list"}},t._l(t.messages,(function(e){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"message.isShow"}],key:e.id,staticClass:"toast show mb-2",attrs:{role:"alert","aria-live":"assertive","aria-atomic":"true","data-autohide":"false"}},[s("div",{staticClass:"toast-header"},[s("strong",{staticClass:"mr-auto"},[t._v(t._s(e.author_name))]),t._v(" "),s("small",{staticClass:"text-muted"},[s("timer",{attrs:{created:e.date}})],1)]),t._v(" "),s("div",{staticClass:"toast-body"},[s("vue-markdown",{attrs:{html:!1,anchorAttributes:{target:"blank",rel:"nofollow"}}},[t._v(t._s(e.message))])],1)])})),0),t._v(" "),s("div",{staticClass:"chat-anchor"})],1)])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[e("span",{staticClass:"text-muted"},[this._v("Chat")])])}],!1,null,"013d25fc",null);e.a=k.exports},W9fM:function(t,e,s){var n=s("LboF"),a=s("0mDy");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);t.exports=a.locals||{}},aa21:function(t,e,s){var n=s("LboF"),a=s("BPew");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);t.exports=a.locals||{}},afi0:function(t,e,s){"use strict";var n={data:function(){return{animateFrame:0,nowTime:0,diffTime:0,startTime:0,isRunning:!1}},mounted:function(){},methods:{setSubtractStartTime:function(t){t=void 0!==t?t:0;this.startTime=Math.floor(performance.now()-t)},startTimer:function(t){var e=this;e.diffTime=void 0!==t?t:0,e.setSubtractStartTime(e.diffTime),function t(){e.nowTime=Math.floor(performance.now()),e.diffTime=e.nowTime-e.startTime,e.animateFrame=requestAnimationFrame(t)}(),e.isRunning=!0},stopTimer:function(){this.isRunning=!1,cancelAnimationFrame(this.animateFrame)},clearAll:function(){this.startTime=0,this.nowTime=0,this.diffTime=0,this.stopTimer(),this.animateFrame=0}},computed:{hours:function(){return Math.floor(this.diffTime/1e3/60/60)},minutes:function(){return Math.floor(this.diffTime/1e3/60)%60},seconds:function(){return Math.floor(this.diffTime/1e3)%60},milliSeconds:function(){return Math.floor(this.diffTime%1e3)}},filters:{zeroPad:function(t,e){e=void 0!==e?e:2;return t.toString().padStart(e,"0")}}},a=s("KHd+"),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._v("\n\t"+t._s(t.hours?t.hours+" : ":"")+" \n\t"+t._s(t._f("zeroPad")(t.minutes))+" :\n\t"+t._s(t._f("zeroPad")(t.seconds))+"\n")])}),[],!1,null,null,null);e.a=o.exports},bB1K:function(t,e,s){(e=s("JPst")(!1)).push([t.i,'.flipper .front[data-v-0adbb604] {\n  overflow: hidden;\n  width: var(--w, 100%);\n  height: var(--h, 150px);\n  border-radius: 0.5em;\n  background: linear-gradient(var(--ang, 180deg), #015965, #36BBCE);\n  box-shadow: 0px 0px 5px #000;\n}\n.flipper .front[data-v-0adbb604], .flipper .front[data-v-0adbb604]:before, .flipper .front[data-v-0adbb604]:after {\n  --strip-stop: 100%;\n  --strip-f: .25;\n  --strip-stop-0: calc(var(--strip-f)*var(--strip-stop));\n  --strip-stop-1: calc(var(--strip-stop) - var(--strip-stop-0));\n  --strip-end: red;\n  --strip-mid: transparent;\n  --strip-list:\n  \tvar(--strip-end) 0,\n  \tvar(--strip-end) var(--strip-stop-0),\n  \tvar(--strip-mid) 0,\n  \tvar(--strip-mid) var(--strip-stop-1),\n  \tvar(--strip-end) 0,\n  \tvar(--strip-end) var(--strip-stop);\n  --joint-list:\n  \tvar(--joint-end, red) var(--joint-stop, 25%),\n  \tvar(--joint-mid, transparent) 0;\n  --joint-0:\n  \tlinear-gradient(135deg, var(--joint-list));\n  --joint-1:\n  \tlinear-gradient(-135deg, var(--joint-list));\n  --joint-2:\n  \tlinear-gradient(-45deg, var(--joint-list));\n  --joint-3:\n  \tlinear-gradient(45deg, var(--joint-list));\n}\n.flipper .front[data-v-0adbb604]:before, .flipper .front[data-v-0adbb604]:after {\n  --i: 0;\n  --noti: calc(1 - var(--i));\n  --sgni: calc(2*var(--i) - 1);\n  --c: hsl(0, 0%, 0%, var(--i));\n  --notc: hsl(0, 0%, 0%, var(--noti));\n  --fill: linear-gradient(var(--c), var(--c));\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  --c0: RGB(calc( \t\tvar(--i)*54 + var(--noti)*1), calc( \t\tvar(--i)*187 + var(--noti)*89), calc( \t\tvar(--i)*206 + var(--noti)*101));\n  --c1: RGB(calc( \t\tvar(--i)*1 + var(--noti)*54), calc( \t\tvar(--i)*89 + var(--noti)*187), calc( \t\tvar(--i)*101 + var(--noti)*206));\n  mask: var(--mask);\n  mask-position: var(--mask-o, 50% 50%);\n  mask-size: var(--mask-d);\n  content: "";\n}\n.flipper .front[data-v-0adbb604]:after {\n  --i: 1 ;\n}\n.flipper .front[data-v-0adbb604] {\n  outline: 1px solid rgba(255, 255, 255, 0.5);\n  outline-offset: -5px;\n  position: relative;\n  --d: 2em;\n  --ang: 45deg;\n  --strip-stop: calc(.0625*var(--d));\n  --narr: var(--strip-list);\n}\n.flipper .front[data-v-0adbb604]:before, .flipper .front[data-v-0adbb604]:after {\n  background: var(--c0);\n  --strip-end: var(--c);\n  --strip-mid: var(--notc);\n  --strip-stop: var(--d);\n  --mask:\n  \tlinear-gradient(90deg, var(--c), var(--notc)),\n  \trepeating-linear-gradient(45deg, var(--narr)),\n  \trepeating-linear-gradient(90deg, var(--strip-list)),\n  \trepeating-linear-gradient(-45deg, var(--strip-list));\n  mask-composite: intersect;\n}',""]),t.exports=e},bUC5:function(t,e,s){"use strict";s.r(e),function(t){s("9Wh1");var n=s("XuX8"),a=s.n(n),o=s("04Vj"),r=s.n(o),i=s("B3hy"),c=s("Tksb"),l=s("McZ9"),u=s("mza2"),d=s("Kyfw"),m=s.n(d);a.a.use(m.a);var h=new a.a({el:"#app",router:i.a,components:{App:c.a,MenuList:l.a,Statistics:u.a},data:{name:"",socket:null,disconnect:!1},created:function(){this.socket=new r.a(document.body.dataset.socket),this.socket.onOpen(this.onConnected),this.socket.onClose(this.onDisconnected)},destroyed:function(){this.socket.offOpen(this.onConnected),this.socket.offClose(this.onDisconnected)},mounted:function(){var t;this.name=null!==(t=this.$cookies.get("username"))&&void 0!==t?t:""},methods:{onConnected:function(){this.disconnect=!1,this.socket.send({action:"user.connect",name:this.name,uid:this.getUser()})},onDisconnected:function(){this.disconnect=!0},changedName:function(t){this.$cookies.set("username",this.name=t,6e8)},getUser:function(){return this.$cookies.get("uid")},setTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";document.title=""!==e?e+" - "+t.meta.raw.name:t.meta.raw.name+" - "+t.meta.raw.tagline}}});e.default=h}.call(this,s("yLpj"))},"c+5e":function(t,e,s){(e=s("JPst")(!1)).push([t.i,'\nblockquote {\n\tbackground: #f9f9f9;\n\tborder-left: 10px solid #ccc;\n\tmargin: 1.5em 10px;\n\tpadding: 1em 10px 0.1em 10px;\n\tquotes: "\\201C""\\201D""\\2018""\\2019";\n}\n',""]),t.exports=e},dAva:function(t,e,s){var n=s("LboF"),a=s("9/sL");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);t.exports=a.locals||{}},dLVc:function(t,e,s){"use strict";var n=s("aa21");s.n(n).a},djG4:function(t,e,s){"use strict";var n=s("XuX8"),a={install:function(t){t.directive("click-outside",{bind:function(t,e,s){window.event=function(n){t==n.target||t.contains(n.target)||s.context[e.expression](n)},document.body.addEventListener("click",window.event)},unbind:function(t){document.body.removeEventListener("click",window.event)}})}},o=a;s.n(n).a.use(o);var r={props:{},data:function(){return{focused:!1}},methods:{focus:function(){this.focused=!0,this.$emit("focused")},blur:function(){this.focused=!1,this.$emit("blurred")}}},i=(s("6rDo"),s("KHd+")),c=Object(i.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.blur,expression:"blur"}],staticClass:"card focusable",class:{"is-focused":t.focused},on:{click:t.focus}},[t._t("default"),t._v(" "),t._t("main"),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.focused?s("div",{staticClass:"row input-group-append mt-2 focusable-hidden"},[s("div",{staticClass:"col p-0"},[t._t("footer")],2)]):t._e()])],2)}),[],!1,null,"eacbaa58",null);e.a=c.exports},fqNJ:function(t,e,s){(e=s("JPst")(!1)).push([t.i,"\n.wn-button[data-v-97e1c85e] {\n\tcursor: pointer;\n}\n",""]),t.exports=e},"im/9":function(t,e,s){"use strict";var n=s("33uv");s.n(n).a},ja8V:function(t,e,s){"use strict";var n=s("W9fM");s.n(n).a},krdz:function(t,e,s){"use strict";var n={props:["text"]},a=s("KHd+"),o=Object(a.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return null!==this.text?e("div",{staticClass:"alert alert-danger px-3 py-1 mb-2",attrs:{role:"alert"}},[this._v("\n\t"+this._s(this.text)+"\n")]):this._e()}),[],!1,null,null,null);e.a=o.exports},mza2:function(t,e,s){"use strict";var n={props:{socket:{required:!0}},data:function(){return{quantity:0}},created:function(){var t=this;this.socket.listener("users.online.update",(function(e){t.quantity=e.quantity}))}},a=s("KHd+"),o=Object(a.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("span",[this._v("Online "+this._s(this.quantity)+" users")])}),[],!1,null,null,null);e.a=o.exports},n7d9:function(t,e,s){var n=s("LboF"),a=s("c+5e");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);t.exports=a.locals||{}},pyCd:function(t,e){},qvRU:function(t,e,s){(e=s("JPst")(!1)).push([t.i,"\n.focusable[data-v-eacbaa58] {\n\tposition: relative;\n\toverflow: hidden;\n\tpadding-bottom: 10px;\n\ttransition: padding-bottom 0.3s;\n}\n.focusable-hidden[data-v-eacbaa58] {\n\tposition: absolute;\n\tbottom: 10px; left: 10px;\n\twidth: calc(100% - 20px);\n}\n.is-focused[data-v-eacbaa58] {\n\tpadding-bottom: 50px;\n}\n.fade-enter-active[data-v-eacbaa58] {\n\ttransition: opacity .5s;\n}\n.fade-leave-active[data-v-eacbaa58] {\n\ttransition: opacity 0s;\n}\n.fade-enter[data-v-eacbaa58], .fade-leave-to[data-v-eacbaa58] {\n\topacity: 0;\n}\n",""]),t.exports=e},"t+Td":function(t,e,s){var n=s("LboF"),a=s("J3qi");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);t.exports=a.locals||{}},uCYj:function(t,e,s){"use strict";(function(t){var n=s("o0o1"),a=s.n(n),o=s("ABpN"),r=(s("04Vj"),s("krdz")),i=s("BuRe"),c=s("cg3e");function l(t,e,s,n,a,o,r){try{var i=t[o](r),c=i.value}catch(t){return void s(t)}i.done?e(c):Promise.resolve(c).then(n,a)}function u(t){return function(){var e=this,s=arguments;return new Promise((function(n,a){var o=t.apply(e,s);function r(t){l(o,n,a,r,i,"next",t)}function i(t){l(o,n,a,r,i,"throw",t)}r(void 0)}))}}e.a={props:["socket"],components:{Timer:o.a,TextError:r.a},data:function(){return{rooms:[],visitHistory:[],name:"",roomErrorText:null,changeNameErrorText:null,nameNewRoom:"",loading:!1,uidVisibility:!1}},created:function(){var t;this.name=null!==(t=this.$cookies.get("username"))&&void 0!==t?t:"",localStorage.rooms&&(this.rooms=JSON.parse(localStorage.rooms)),localStorage.visitHistory&&(this.visitHistory=JSON.parse(localStorage.visitHistory)),this.roomsUpdate()},mounted:function(){this.$route.query.kicked&&this.$nextTick((function(){console.log("Kicked you out.")})),this.$root.setTitle()},methods:{roomsUpdate:function(){var t=this;this.socket.request("room.get",{owner:this.$root.getUser()}).then((function(e){t.rooms=e.data,localStorage.rooms=JSON.stringify(t.rooms)}))},saveName:function(){if(""===this.name)return this.changeNameErrorText="Empty name.",!1;localStorage.name=this.name,this.changeNameErrorText=null},captchaVerify:function(t){var e=this;return u(a.a.mark((function s(){var n,o,r;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(c.load)("6LeVSDIfAAAAABxjfI8yEzoalSQ5iNa1TTobtx8j");case 2:return n=s.sent,s.next=5,n.execute("room/create");case 5:return o=s.sent,s.next=8,e.socket.request("captcha.verify",{action:t,token:o});case 8:return r=s.sent,s.abrupt("return",r.data.success);case 10:case"end":return s.stop()}}),s)})))()},createRoom:function(){var t=this;return u(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.nameNewRoom){e.next=3;break}return t.roomErrorText="Empty name.",e.abrupt("return",!1);case 3:if(t.captchaVerify("room/create")){e.next=5;break}return e.abrupt("return",!1);case 5:t.socket.request("room.create",{name:t.nameNewRoom,owner:t.$root.getUser()}).then((function(e){t.rooms.unshift(e.data),localStorage.rooms=JSON.stringify(t.rooms),t.nameNewRoom=""})),t.roomErrorText=null;case 7:case"end":return e.stop()}}),e)})))()},cloneRoom:function(t,e){var s=this;return u(a.a.mark((function n(){var o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==(o=prompt("Enter the new room name",e))){n.next=3;break}return n.abrupt("return",!1);case 3:if(s.captchaVerify("room/create")){n.next=5;break}return n.abrupt("return",!1);case 5:s.socket.request("room.create",{name:o,owner:s.$root.getUser(),clone:t}).then((function(t){s.rooms.unshift(t.data),localStorage.rooms=JSON.stringify(s.rooms)}));case 6:case"end":return n.stop()}}),n)})))()},deleteRoom:function(t){var e=this;if(confirm("Delete room?"))this.socket.request("room.delete",{id:t,owner:this.$root.getUser()}).then((function(s){for(var n=0;n<e.rooms.length;n++)if(e.rooms[n].id==t){e.rooms.splice(n,1);break}localStorage.rooms=JSON.stringify(e.rooms)}))},setPassword:function(t){var e=this,s=prompt("Enter the password for the room. Empty password will unlock the room.");if(null!==s)this.socket.request("room.update",{id:t,owner:this.$root.getUser(),password:s}).then((function(t){for(var s=0;s<e.rooms.length;s++)if(e.rooms[s].id==t.data.id){e.rooms.splice(s,1,t.data);break}localStorage.rooms=JSON.stringify(e.rooms)}))},copyUid:function(){t.navigator.clipboard.writeText(this.$root.getUser())},changeUid:function(){var t=this,e=prompt("Enter UID");if(null===e||""===e)return alert("Empty UID.");if(!Object(i.a)(e))return alert("Not a valid UID.");if(confirm("Are you confident? All your current data will be rebound to the new UID."))this.socket.request("room.rebind",{owner:this.$root.getUser(),new_uid:e}).then((function(s){s.data&&(t.$cookies.set("uid",e,6e8),t.roomsUpdate())}))}}}}).call(this,s("yLpj"))},xJka:function(t,e,s){"use strict";var n={extends:s("H8ri").a,props:["chartdata","options"],mounted:function(){this.update()},methods:{update:function(){this.renderChart(this.chartdata,this.options)}}},a=s("KHd+"),o=Object(a.a)(n,void 0,void 0,!1,null,null,null).exports,r=s("o0o1"),i=s.n(r),c=s("nOak"),l=s.n(c),u=s("krdz");function d(t,e,s,n,a,o,r){try{var i=t[o](r),c=i.value}catch(t){return void s(t)}i.done?e(c):Promise.resolve(c).then(n,a)}var m={props:["socket","user","room"],components:{VueMarkdown:l.a,TextError:u.a},data:function(){return{name:"",changeNameSwitcher:!1,changeNameErrorText:null}},mounted:function(){var t;this.name=null!==(t=this.$cookies.get("username"))&&void 0!==t?t:""},methods:{changeName:function(){this.changeNameSwitcher=!0},saveName:function(){if(""===this.name)return this.changeNameErrorText="Empty name.",!1;this.$cookies.set("username",this.name,6e8),this.changeNameSwitcher=!1,this.socket.send({action:"room.user.changeName",name:this.name,room:this.room.hash}),this.changeNameErrorText=null},changeNameSwitcherForSelf:function(t){return this.user.isSelf&&this.changeNameSwitcher},kickOut:function(t){confirm("Kick out this user?")&&this.socket.send({action:"room.user.kick",id:t,room:this.room.hash})},toggleUserHasVote:function(t,e){this.socket.send({action:"room.user.toggle.hasVote",id:t,value:e,room:this.room.hash})},transferTheRoom:function(t){var e,s=this;return(e=i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Transfer the room other user?")){e.next=4;break}return e.next=3,s.socket.request("room.update",{id:s.room.id,owner:s.$root.getUser(),owner_client_id:t});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})),function(){var t=this,s=arguments;return new Promise((function(n,a){var o=e.apply(t,s);function r(t){d(o,n,a,r,i,"next",t)}function i(t){d(o,n,a,r,i,"throw",t)}r(void 0)}))})()}}},h=(s("z00a"),{props:["socket","users","room","average"],components:{User:Object(a.a)(m,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"list-group-item",class:{"d-flex justify-content-between lh-condensed":!t.changeNameSwitcher,disconnected:!t.user.active,"list-group-item-secondary":!t.user.hasVote}},[t.changeNameSwitcherForSelf()?t._e():s("div",{class:{"text-success":t.user.isVoted}},[s("h6",{staticClass:"my-0"},[t._v("\n\t\t\t"+t._s(""===t.user.name?"[No name]":t.user.name)+"\n\t\t")]),t._v(" "),t.user.isOwner?s("small",{staticClass:"text-muted"},[t._v("Owner")]):t._e(),t._v(" "),t.user.hasVote?t._e():s("small",{staticClass:"text-muted"},[t._v("Spectator")])]),t._v(" "),t.changeNameSwitcher?t._e():s("span",{staticClass:"text-muted d-flex panel-buttons"},[void 0===t.user.vote&&t.user.isVoted?s("span",{staticClass:"empty-card ml-1"}):t._e(),t._v(" "),s("vue-markdown",{staticClass:"badge user-control badge-primary ml-1",attrs:{html:!1,source:t.user.voteView}}),t._v(" "),t.user.isSelf||t.room.isOwner?s("div",{staticClass:"btn-group dropleft",attrs:{role:"group"}},[t._m(0),t._v(" "),s("div",{staticClass:"dropdown-menu"},[t.user.isSelf?s("button",{staticClass:"dropdown-item btn-sm",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.changeName(e)}}},[s("i",{staticClass:"fa fa-fw fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" Change name\n\t\t\t\t")]):t._e(),t._v(" "),t.room.isOwner&&!t.user.isOwner?s("button",{staticClass:"dropdown-item btn-sm",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.kickOut(t.user.id)}}},[s("i",{staticClass:"fa fa-fw fa-sign-out",attrs:{"aria-hidden":"true"}}),t._v(" Kick from room\n\t\t\t\t")]):t._e(),t._v(" "),t.user.isSelf||t.room.isOwner&&!t.user.isOwner?s("button",{staticClass:"dropdown-item btn-sm",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.toggleUserHasVote(t.user.id,!t.user.hasVote)}}},[s("i",{staticClass:"fa fa-fw",class:{"fa-toggle-on":!t.user.hasVote,"fa-toggle-off":t.user.hasVote},attrs:{"aria-hidden":"true"}}),t._v(" Spectator mode\n\t\t\t\t")]):t._e(),t._v(" "),!t.user.isSelf&&t.room.isOwner?s("button",{staticClass:"dropdown-item btn-sm",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.transferTheRoom(t.user.id)}}},[s("i",{staticClass:"fa fa-fw fa-arrow-circle-o-right",attrs:{"aria-hidden":"true"}}),t._v(" Transfer the room\n\t\t\t\t")]):t._e()])]):t._e()],1),t._v(" "),t.user.isSelf&&t.changeNameSwitcher?s("form",{on:{submit:function(e){return e.preventDefault(),t.saveName(e)}}},[s("text-error",{attrs:{text:t.changeNameErrorText}}),t._v(" "),s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),t._m(1)])],1):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn badge pr-0 user-control pointer",attrs:{type:"button",title:"","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fa fa-ellipsis-v",attrs:{"aria-hidden":"true"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"submit"}},[this._v("Save")])])}],!1,null,"078e4951",null).exports,Chart:o},data:function(){return{chart:!1,colors:["#6574cd","#e3342f","#38c172","#f6993f","#9561e2","#ffed4a","#6cb2eb"],chartOptions:{legend:{position:"bottom"}}}},mounted:function(){},methods:{chartData:function(){for(var t=[],e=[],s=0;s<this.users.length;s++)if(this.users[s].hasVote){var n=t.indexOf(this.users[s].voteView);-1===n?(t[n=t.length]=this.users[s].voteView,e[n]=1):e[n]++}return{labels:t,datasets:[{label:"",backgroundColor:this.colors,data:e}]}}},computed:{sortedUsers:function(){return this.users.sort((function(t,e){return t.isOwner&&!e.isOwner?-1:!t.isOwner&&e.isOwner?1:t.hasVote&&!e.hasVote?-1:!t.hasVote&&e.hasVote||""==t.name&&""==!e.name?1:""==!t.name&&""==e.name?-1:t.name.localeCompare(e.name)}))}},watch:{average:function(t){var e=this;null!==t?(this.chart=!0,this.$nextTick((function(){e.$refs.chart.update()}))):this.chart=!1}}}),f=(s("dLVc"),Object(a.a)(h,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[t.users.length?s("div",[s("h4",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[s("span",{staticClass:"text-muted"},[t._v("Users")]),t._v(" "),s("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.users.length))])]),t._v(" "),s("ul",{staticClass:"list-group mb-3"},[t._l(t.sortedUsers,(function(e){return s("user",{key:e.id,attrs:{socket:t.socket,user:e,room:t.room}})})),t._v(" "),null!==t.average&&0!=t.average?s("li",{staticClass:"list-group-item d-flex justify-content-between"},[s("span",[t._v("Average")]),t._v(" "),s("strong",[t._v(t._s(t.average))])]):t._e(),t._v(" "),t.chart?s("li",{staticClass:"list-group-item d-flex justify-content-between"},[s("div",{staticStyle:{width:"100%"}},[s("chart",{ref:"chart",attrs:{chartdata:t.chartData(),options:t.chartOptions}})],1)]):t._e()],2)]):t._e()])}),[],!1,null,"305e101a",null));e.a=f.exports},xPAj:function(t,e,s){var n=s("LboF"),a=s("5P52");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);t.exports=a.locals||{}},yG42:function(t,e,s){"use strict";(function(t){var n=s("afi0"),a=s("VDkd"),o=s("Cnsx"),r=s("RdJC"),i=s("xJka"),c=s("krdz"),l=s("nOak"),u=s.n(l),d=s("17CV");e.a={props:["socket","hash"],components:{Stopwatch:n.a,Chat:a.a,TaskList:o.a,Cards:r.a,UsersList:i.a,TextError:c.a,VueMarkdown:u.a,QrcodeVue:d.a},data:function(){return{name:"",room:{id:null,name:"",hash:null,task:null,clientId:null,isOwner:!1,hasPassword:!1,cardset:null},users:[],stage:0,average:null,canVote:!1,soundStart:null,soundFinal:null,enterCountWrongPassword:0,changeRoomNameSwitcher:!1,changeRoomNameErrorText:null}},created:function(){var t;this.room.hash=this.hash,this.name=null!==(t=this.$cookies.get("username"))&&void 0!==t?t:"",this.socket.onOpen(this.enterRoom),this.soundStart=new Audio("../sounds/all-eyes-on-me.mp3"),this.soundStart.volume=.1,this.soundFinal=new Audio("../sounds/rhodesmas.mp3"),this.soundFinal.volume=.1},destroyed:function(){this.socket.offOpen(this.enterRoom),this.socket.offGroup("room")},beforeRouteUpdate:function(t,e,s){this.enterRoom(),s()},beforeRouteLeave:function(t,e,s){this.leaveRoom(),s()},mounted:function(){var t=this;this.socket.group("room"),this.socket.listener("room.entered.user",(function(e){t.users.push({id:e.id,name:e.name,isOwner:e.isOwner,hasVote:e.hasVote,active:!0})})),this.socket.listener("room.left.user",(function(e){for(var s=0;s<t.users.length&&t.users[s].id!==e.id;s++);t.users.splice(s,1)})),this.socket.listener("room.parameters",(function(e){t.room.id=e.id,t.room.name=e.name,t.room.isOwner=e.isOwner,t.room.clientId=e.client_id,t.room.task=e.task,t.room.hasPassword=e.hasPassword,t.room.cardset=e.cardset||{name:"Default"},t.hasVote=e.hasVote,t.stage=e.stage,t.$refs.stopwatch.clearAll(),t.$refs.stopwatch.startTimer(Date.now()-1e3*e.time),t.$root.setTitle(t.room.name),t.setUsers(e.users),t.saveVisitHistory()})),this.socket.listener("room.update",(function(e){t.room.name=e.name,t.room.hasPassword=e.hasPassword,t.room.cardset=e.cardset||{name:"Default"},t.$root.setTitle(t.room.name),t.room.isOwner=e.owner_client_id==t.room.clientId;for(var s=0;s<t.users.length;s++){var n=t.users[s];n.id!=e.owner_client_id||n.isOwner||(t.users[s].isOwner=!0),n.id!=e.owner_client_id&&n.isOwner&&(t.users[s].isOwner=!1)}})),this.socket.listener("room.user.changeName",(function(e){for(var s=0;s<t.users.length;s++)if(t.users[s].id===e.id){t.users[s].name=e.name;break}e.id===t.room.clientId&&(t.name=e.name)})),this.socket.listener("room.user.changeHasVote",(function(e){for(var s=0;s<t.users.length;s++)if(t.users[s].id===e.id){t.users[s].hasVote=e.hasVote;break}e.id===t.room.clientId&&(t.hasVote=e.hasVote,t.changedStage())})),this.socket.listener("room.vote.start",(function(e){t.stage=e.stage,t.room.task=e.task,t.soundStart.pause(),t.soundStart.currentTime=0,t.soundStart.play()})),this.socket.listener("room.vote.revote",(function(e){t.stage=e.stage,t.room.task=e.task,t.average=null;for(var s=0;s<t.users.length;s++)t.$set(t.users[s],"vote",void 0),t.$set(t.users[s],"voteView",void 0),t.$set(t.users[s],"isVoted",!1);t.soundStart.pause(),t.soundStart.currentTime=0,t.soundStart.play()})),this.socket.listener("room.vote",(function(e){for(var s=0;s<t.users.length;s++)if(t.users[s].id===e.id){t.$set(t.users[s],"isVoted",!0);break}})),this.socket.listener("room.vote.you",(function(e){for(var s=0;s<t.users.length;s++)if(t.users[s].id===e.id){t.$set(t.users[s],"vote",e.vote),t.$set(t.users[s],"voteView",e.voteView),t.$set(t.users[s],"isVoted",!0);break}})),this.socket.listener("room.kicked.you",(function(e){t.$router.push({name:"home",query:{kicked:!0}})})),this.socket.listener("room.vote.final",(function(e){2!==t.stage&&(t.soundFinal.pause(),t.soundFinal.currentTime=0,t.soundFinal.play()),t.canVote=!1,t.stage=2,t.setUsers(e.users),t.average=t.getAverage(),t.room.isOwner&&t.$refs.cards.startApprove()})),this.socket.listener("room.vote.reset",(function(e){t.stage=0,t.average=null;for(var s=0;s<t.users.length;s++)t.$set(t.users[s],"vote",void 0),t.$set(t.users[s],"voteView",void 0),t.$set(t.users[s],"isVoted",!1);t.room.task=null,t.$refs.stopwatch.clearAll()})),this.socket.listener("room.wait.password",(function(e){if(e.wrong&&t.enterCountWrongPassword++,t.enterCountWrongPassword>2)t.$router.push({name:"home"});else{t.$root.setTitle(e.name);var s=prompt('Enter the password for the room "'.concat(e.name,'"'));null!==s&&0!==s.length?t.socket.send({action:"room.enter",room:t.hash,name:t.name,uid:t.$root.getUser(),password:s}):t.$router.push({name:"home"})}})),this.socket.listener("room.user.disconnected",(function(e){for(var s=0;s<t.users.length;s++)if(t.users[s].id===e.id){t.users[s].active=!1;break}})),this.socket.endGroup()},methods:{onApprove:function(){this.$refs.stopwatch.stopTimer()},enterRoom:function(){this.socket.send({action:"room.enter",room:this.hash,name:this.name,uid:this.$root.getUser(),password:""})},leaveRoom:function(){this.socket.send({action:"room.leave",room:this.hash})},startVote:function(){this.socket.send({action:"room.vote.start",room:this.hash})},resetVote:function(){this.socket.send({action:"room.vote.reset",room:this.hash}),this.$refs.cards.stopApprove()},skipVote:function(){confirm("Skip the current task?")&&(this.socket.send({action:"room.task.approve",id:this.room.task.id,point:0,view:"skipped"}),this.$refs.cards.stopApprove())},revote:function(){this.socket.send({action:"room.vote.revote",room:this.hash}),this.$refs.cards.stopApprove()},getAverage:function(){for(var t=0,e=0,s=0;s<this.users.length;s++)this.users[s].hasVote&&0!=this.users[s].vote&&(t+=parseFloat(this.users[s].vote),e++);return 0===e?0:Math.round(t/e*100)/100},setUsers:function(t){this.users=t;for(var e=0;e<this.users.length;e++)this.users[e].id===this.room.clientId&&(this.users[e].isSelf=!0)},setPassword:function(){if(this.room.isOwner){var t=prompt("Enter the password for the room. Empty password will unlock the room.");if(null!==t)this.socket.request("room.update",{id:this.room.id,owner:this.$root.getUser(),password:t})}},editRoomName:function(){this.room.isOwner&&(this.changeRoomNameSwitcher=!0)},saveRoomName:function(){var t=this;if(this.room.isOwner){if(null===this.room.name||0===this.room.name.length)return void(this.changeRoomNameErrorText="Empty name.");this.changeRoomNameErrorText=null;this.socket.request("room.update",{id:this.room.id,owner:this.$root.getUser(),name:this.room.name}).then((function(e){t.changeRoomNameSwitcher=!1}))}},changedStage:function(){switch(this.stage){case 0:this.canVote=!1,this.$refs.stopwatch.stopTimer();break;case 1:this.hasVote?this.canVote=!0:this.canVote=!1,this.$refs.stopwatch.isRunning||this.$refs.stopwatch.startTimer();break;case 2:this.canVote=!1}},saveVisitHistory:function(){var t=[];localStorage.visitHistory&&(t=JSON.parse(localStorage.visitHistory));for(var e=0;e<t.length;e++)if(t[e].hash===this.room.hash){t.splice(e,1);break}t.unshift({name:this.room.name,hash:this.room.hash}),t.splice(5),localStorage.visitHistory=JSON.stringify(t)}},computed:{canNextButton:function(){return 2===this.stage&&this.$refs.tasksList.haveUnratedTasks&&!this.$refs.cards.approve},canSkipButton:function(){return!this.canNextButton&&null!==this.room.task&&(1===this.stage||2===this.stage)},canReVoteButton:function(){return 2===this.stage&&this.$refs.tasksList.haveUnratedTasks&&this.$refs.cards.approve},anchorAttributes:function(){return{target:"blank",rel:"nofollow"}},fullPageUrl:function(){return t.location.href}},watch:{stage:function(){this.changedStage()}}}}).call(this,s("yLpj"))},ySqc:function(t,e,s){var n=s("LboF"),a=s("UbFU");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);t.exports=a.locals||{}},z00a:function(t,e,s){"use strict";var n=s("ySqc");s.n(n).a}},[[0,1,2]]]);
//# sourceMappingURL=app.js.map